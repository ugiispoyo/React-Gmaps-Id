import React,{useEffect,useState}from"react";export default function ReactMapsId({width:a,height:b,keyGoogle:c,defaultMap:e="",zoom:f=8,onDrag:d}){let[g,h]=useState({lat:-6.196309372048864,lng:106.8804765624999}),[i,j]=useState([]);const[k,l]=useState(!1);let m,n,o,p,[q,r]=useState({zoom:8,center:g}),[s,t]=useState("");useEffect(()=>{let a=!0;if(a&&!k){const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${c}&callback=initMap&v=weekly`,a.async=!0,document.body.appendChild(a),l(!0)}return k&&(window.initMap=u,v(e,f)),()=>{a=!1}},[k]);const u=()=>{o=window.google,""!==e&&x({address:e}),p=new o.maps.Map(document.getElementById("map__"),q),n=new o.maps.Marker({map:p,draggable:!0,position:g}),n?.addListener("dragend",a=>{x({location:a.latLng.toJSON()})})};useEffect(()=>{k&&(o=window.google,x({address:e}),p=new o.maps.Map(document.getElementById("map__"),q),n=new o.maps.Marker({map:p,draggable:!0,position:g}),n?.addListener("dragend",a=>{x({location:a.latLng.toJSON()})}))},[e]);let v=(a,b)=>{t(a),r({...q,zoom:b?parseInt(b):8})};const w=()=>{""!==e&&n.setMap(null)},x=a=>{o=window.google,m=new o.maps.Geocoder,""===e?(w(),m.geocode(a).then(a=>{const{results:b}=a;return j(b),h(b[0].geometry.location.toJSON()),p.setCenter(b[0].geometry.location),n.setPosition(b[0].geometry.location),n.setMap(p),d(b),b}).catch(a=>{alert("Geocode was not successful for the following reason: "+a)})):m.geocode(a).then(a=>{const{results:b}=a;return r({...q,center:b[0].geometry.location}),j(b),h(b[0].geometry.location.toJSON()),p.setCenter(b[0].geometry.location),n.setPosition(b[0].geometry.location),n.setMap(p),d(b),b}).catch(a=>{alert("Geocode was not successful for the following reason: "+a)})};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement("div",{id:"map__",style:{width:a?a:"400px",height:b?b:"230px"}}))}