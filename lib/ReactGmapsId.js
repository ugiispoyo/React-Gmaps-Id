import React,{useEffect,useState}from"react";export default function ReactMapsId({width:a,height:b,keyGoogle:c,defaultMap:e="",zoom:f=8,onDrag:d}){let[g,h]=useState({lat:-6.196309372048864,lng:106.8804765624999});const[i,j]=useState(!1);let k,l,m,n,[o,p]=useState({zoom:parseInt(f),center:g});useEffect(()=>{let a=!0;if(a&&!i){const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${c}&callback=initMap&v=weekly`,a.async=!0,document.body.appendChild(a),j(!0)}return i&&(window.initMap=q,r(e,f)),()=>{a=!1}},[i]);const q=()=>{m=window.google,""!==e&&t({address:e}),n=new m.maps.Map(document.getElementById("map__"),o),l=new m.maps.Marker({map:n,draggable:!0,position:g}),l?.addListener("dragend",a=>{t({location:a.latLng.toJSON()})})};useEffect(()=>{i&&(m=window.google,t({address:e}),n=new m.maps.Map(document.getElementById("map__"),o),l=new m.maps.Marker({map:n,draggable:!0,position:g}),l?.addListener("dragend",a=>{t({location:a.latLng.toJSON()})}))},[e]);let r=(a,b)=>{p({...o,zoom:b?parseInt(b):8})};const s=()=>{""!==e&&l.setMap(null)},t=a=>{m=window.google,k=new m.maps.Geocoder,""===e?(s(),k.geocode(a).then(a=>{const{results:b}=a;return p({...o,zoom:parseInt(f),center:b[0].geometry.location}),h(b[0].geometry.location.toJSON()),n.setCenter(b[0].geometry.location),l.setPosition(b[0].geometry.location),l.setMap(n),d(b),b}).catch(a=>{// alert("Geocode was not successful for the following reason: " + e);
console.log("Geocode was not successful for the following reason: ",a)})):k.geocode(a).then(a=>{const{results:b}=a;return p({...o,zoom:parseInt(f),center:b[0].geometry.location}),h(b[0].geometry.location.toJSON()),n.setCenter(b[0].geometry.location),l.setPosition(b[0].geometry.location),l.setMap(n),d(b),b}).catch(a=>{// alert("Geocode was not successful for the following reason: " + e);
console.log("Geocode was not successful for the following reason: ",a)})};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement("div",{id:"map__",style:{width:a?a:"400px",height:b?b:"230px"}}))}