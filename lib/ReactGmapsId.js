import React,{useEffect,useState}from"react";export default function ReactMapsId({width:a,height:b,keyGoogle:c,defaultMap:e="",zoom:f=8,onDrag:d,name:g="dafault"}){let[h,i]=useState({lat:-6.196309372048864,lng:106.8804765624999});const[j,k]=useState(!1);let l,m,n,o,[p,q]=useState({zoom:parseInt(f),center:h});useEffect(()=>{if(!j){const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${c}&callback=initMap&v=weekly`,a.async=!0,document.body.appendChild(a),k(!0)}j&&(window.initMap=r,s(e,f))},[j]);const r=()=>{n=window.google,""!==e&&u({address:e}),o=new n.maps.Map(document.getElementById("map__"+g),p),m=new n.maps.Marker({map:o,draggable:!0,position:h}),m?.addListener("dragend",a=>{u({location:a.latLng.toJSON()})})};useEffect(()=>{j&&(n=window.google,u({address:e}),o=new n.maps.Map(document.getElementById("map__"+g),p),m=new n.maps.Marker({map:o,draggable:!0,position:h}),m?.addListener("dragend",a=>{u({location:a.latLng.toJSON()})}))},[e]);let s=(a,b)=>{q({...p,zoom:b?parseInt(b):8})};const t=()=>{""!==e&&m.setMap(null)},u=a=>{n=window.google,l=new n.maps.Geocoder,""===e?(t(),l.geocode(a).then(a=>{const{results:b}=a;return q({...p,zoom:parseInt(f),center:b[0].geometry.location}),i(b[0].geometry.location.toJSON()),o.setCenter(b[0].geometry.location),m.setPosition(b[0].geometry.location),m.setMap(o),d(b),b}).catch(a=>{alert("Geocode was not successful for the following reason: "+a)})):l.geocode(a).then(a=>{const{results:b}=a;return q({...p,zoom:parseInt(f),center:b[0].geometry.location}),i(b[0].geometry.location.toJSON()),o.setCenter(b[0].geometry.location),m.setPosition(b[0].geometry.location),m.setMap(o),d(b),b}).catch(a=>{alert("Geocode was not successful for the following reason: "+a)})};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement("div",{id:"map__"+g,style:{width:a?a:"400px",height:b?b:"230px"}}))}