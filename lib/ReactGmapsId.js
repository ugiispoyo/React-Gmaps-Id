import React,{useEffect,useState}from"react";export default function ReactMapsId({width:a,height:b,keyGoogle:c,defaultMap:g="",zoom:h=8,onDrag:d,onError:f,name:i="default"}){let[j,k]=useState({lat:-6.196309372048864,lng:106.8804765624999});const[l,m]=useState(!1);let n,o,p,q,[r,s]=useState({zoom:parseInt(h),center:j});useEffect(()=>{if(!l){const a=document.createElement("script");a.src=`https://maps.googleapis.com/maps/api/js?key=${c}&callback=initMap&v=weekly`,a.async=!0,document.body.appendChild(a),m(!0)}l&&(window.initMap=t,u(g,h))},[l]);const t=()=>{p=window.google,""!==g&&w({address:g}),q=new p.maps.Map(document.getElementById("map__"+i),// document.getElementsByClassName("map__" + name),
r),o=new p.maps.Marker({map:q,draggable:!0,position:j}),o?.addListener("dragend",a=>{w({location:a.latLng.toJSON()})})};useEffect(()=>{l&&(p=window.google,w({address:g}),q=new p.maps.Map(document.getElementById("map__"+i),// document.getElementsByClassName("map__" + name),
r),o=new p.maps.Marker({map:q,draggable:!0,position:j}),o?.addListener("dragend",a=>{w({location:a.latLng.toJSON()})}))},[g]);let u=(a,b)=>{s({...r,zoom:b?parseInt(b):8})};const v=()=>{""!==g&&o.setMap(null)},w=a=>{p=window.google,n=new p.maps.Geocoder,""===g?(v(),n.geocode(a).then(a=>{const{results:b}=a;return s({...r,zoom:parseInt(h),center:b[0].geometry.location}),k(b[0].geometry.location.toJSON()),q.setCenter(b[0].geometry.location),o.setPosition(b[0].geometry.location),o.setMap(q),d(b),b}).catch(a=>{console.error("Geocode was not successful for the following reason: ",a),f(a)})):n.geocode(a).then(a=>{const{results:b}=a;return s({...r,zoom:parseInt(h),center:b[0].geometry.location}),k(b[0].geometry.location.toJSON()),q.setCenter(b[0].geometry.location),o.setPosition(b[0].geometry.location),o.setMap(q),d(b),b}).catch(a=>{console.error("Geocode was not successful for the following reason: ",a),f(a)})};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement("div",{id:"map__"+i// className={"map__"+ name}
,style:{width:a?a:"400px",height:b?b:"230px"}}))}